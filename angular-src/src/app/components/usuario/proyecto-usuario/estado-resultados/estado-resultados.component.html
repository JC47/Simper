<h4 class="text-center">Estado de Resultados</h4>
<hr>

<div class="col-10 offset-1">
  <table class="table table-bordered">
    <thead>
      <tr class="thead-inverse">
        <th></th>
        <th *ngFor="let producto of resultados" class="text-center">{{getNameByIdProducto(producto) }}</th>
        <th class="text-center">Total</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <th>Ventas Netas</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getVentasNetas(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right" >{{getTotalVentas() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Costo de Ventas</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getCostoVentas(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right" >{{getTotalCostosVentas() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Utilidad Bruta</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getUtilidadParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right" >{{getUtilidadBruta() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Costo de distribucion</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getDistParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right">{{getDistTotal() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Otros Gastos</th>
        <td class="text-right" *ngFor="let producto of resultados"> {{getOtrosGastosParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right" *ngFor="let item of auxiliarT">{{item |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Costo de Administración</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getAdminParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right">{{getAdminTotal() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Utilidad en Operación</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getUtilidadAntesParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right" *ngFor="let item of auxiliarT">{{getUtilidadAntes() - item |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Intereses</th>
        <td class="text-right" *ngFor="let producto of resultados">-</td>
        <td class="text-right" *ngFor="let aux of intereses">{{aux |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Utilidad antes de Impuestos</th>
        <td class="text-right" *ngFor="let producto of resultados">{{getUtilidadAntesParcial(producto) |currency:'USD':true:'1.0-0'}}</td>
        <td class="text-right">{{getUtilidad2() |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>ISR</th>
        <td  class="text-right" *ngFor="let producto of resultados">-</td>
        <td  class="text-right" *ngFor="let balance of balanceFinal">{{balance.imptosPorPagar * 12 |currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>PTU</th>
        <td class="text-right" *ngFor="let producto of resultados">-</td>
        <td class="text-right" *ngFor="let balance of balanceFinal">{{balance.PTUPorPagar|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <th>Utilidad del Ejercicio</th>
        <td class="text-right" *ngFor="let producto of resultados">-</td>
        <td class="text-right" *ngFor="let balance of balanceFinal">{{balance.utilidadEjercicio|currency:'USD':true:'1.0-0'}}</td>
      </tr>


    </tbody>
  </table>

</div>

<div class="row align-items-center" style="margin-bottom:20px">
  <div class="offset-9 col-1">
    Exportar:
  </div>
  <div class="col-1">
    <ngl-icon icon="pdf" category="doctype" (click)="PDFestadoDeResultados()" size="large"></ngl-icon>
  </div>

  <div class="col-1">
    <ngl-icon icon="csv" category="doctype" (click)="CSVestado()" size="large"></ngl-icon>
  </div>

</div>





  <div class="row">
    <div class="col-12">
      <h2 class="text-center">Analisis de de Rentabilidad sobre el Capital Contable</h2>
      <hr>
    </div>
  </div>




  <div class="col-8 offset-2">
    <div class="table">
      <thead>
        <th colspan="3">Estado de Resultados</th>
      </thead>

      <tr>
        <td></td>
        <td>Ventas</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>-</td>
        <td>Costos</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>



      <tr>
        <td>=</td>
        <td>Utilidad Bruta</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>-</td>
        <td>Gastos de Operación</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr >
        <td>=</td>
        <td>Utilidad de Operación</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>-</td>
        <td>Intereses</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>=</td>
        <td>Utilidad antes de Impuestos</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>-</td>
        <td>Impuestos</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>=</td>
        <td>Utilidad Neta</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr>
        <td>/</td>
        <td>Ventas</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr bgcolor="DF060A" style="color:white">
        <td>=</td>
        <td>Margen Neto (%)</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr bgcolor="DF060A" style="color:white">
        <td>*</td>
        <td>Rotación de Activos</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr bgcolor="DF060A" style="color:white">
        <td>=</td>
        <td>Rentabilidad de Activos(%)</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr bgcolor="DF060A" style="color:white">
        <td>*</td>
        <td>Placa Financiera</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

      <tr bgcolor="DF060A" style="color:white">
        <td>=</td>
        <td>Rentabilidad s/Capital Contable</td>
        <td>{{10|currency:'USD':true:'1.0-0'}}</td>
      </tr>

    </div>
  </div>
